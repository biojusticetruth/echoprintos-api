<!doctype html>
<html lang="en">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>EchoprintOS â€” Ledger</title>

<style>
  body{font-family:system-ui,Inter,Arial;margin:24px;max-width:920px}
  h2{margin-top:28px}
  .row{border:1px solid #ddd;border-radius:10px;padding:14px;margin:10px 0}
  .meta{font-size:12px;color:#666;margin-top:6px}
  .btns{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  button,a.btn{padding:6px 10px;border:1px solid #bbb;border-radius:8px;background:#fff;text-decoration:none;cursor:pointer}
  #overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center}
  #overlay .panel{background:#fff;max-width:700px;width:90%;padding:16px;border-radius:12px;max-height:80vh;overflow:auto}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
  @media (max-width:720px){.grid{grid-template-columns:1fr}}
  input[type="text"],input[type="file"]{width:100%;padding:8px;border:1px solid #ccc;border-radius:8px}
</style>

<h1>ðŸ§¾ EchoprintOS</h1>

<div class="grid">
  <!-- Generate -->
  <section class="row">
    <h2>Generate</h2>
    <label>Title</label>
    <input id="genTitle" type="text" placeholder="Short title" />
    <div style="height:8px"></div>
    <label>Text (hash this)</label>
    <input id="genText" type="text" placeholder="Paste text to hash (optional if using file)" />
    <div style="height:8px"></div>
    <label>Or File</label>
    <input id="genFile" type="file" />
    <div style="height:8px"></div>
    <label>Permalink (optional)</label>
    <input id="genLink" type="text" placeholder="https://â€¦" />
    <div style="height:8px"></div>
    <button id="genBtn">Hash & Insert</button>
    <div id="genMsg" class="meta"></div>
  </section>

  <!-- Verify (accepts ECP | hash | UUID) -->
  <section class="row" id="verifySection">
    <h2>Verify</h2>
    <label>Enter EchoprintOS ID (ECP â€¦), 64-hex hash, or UUID</label>
    <input id="verifyKey" type="text" placeholder="ECP 123â€¦, or 64-hex, or UUID" />
    <div style="height:8px"></div>
    <button id="verifyBtn">Verify</button>
    <div id="verifyOut" class="meta"></div>
  </section>
</div>

<!-- Recent -->
<section>
  <h2>Recent</h2>
  <div id="recent"></div>
</section>

<!-- Certificate overlay -->
<div id="overlay">
  <div class="panel">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong>Certificate</strong>
      <button onclick="document.getElementById('overlay').style.display='none'">Close</button>
    </div>
    <pre id="certPre" style="white-space:pre-wrap"></pre>
  </div>
</div>

<!-- Only these two -->
<script src="./env.js?v=33"></script>
<script type="module" src="./app.js?v=33"></script>
</html>
