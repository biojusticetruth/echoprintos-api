<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EchoprintOS · Ledger</title>
  <link rel="stylesheet" href="/ledger/theme.css" />
  <style>
    /* tiny helpers so this file stands alone */
    .wrap{width:min(960px,100% - 24px);margin-inline:auto;padding:14px}
    header.site{display:flex;align-items:center;gap:14px;margin:10px 0 16px}
    header.site .brand{font-weight:700;letter-spacing:.2px}
    header.site nav a{margin-right:10px;text-decoration:none}
    header.site nav a.active{font-weight:600;text-decoration:underline}
    .card{border:1px solid var(--border, #28303a);border-radius:12px;padding:14px;background:var(--card,#0f1318)}
    .row{display:flex;gap:8px;flex-wrap:wrap}
    input{flex:1 1 280px}
    .tiny{font-size:.85rem;opacity:.85}
    .muted{opacity:.75}
    code{font-family:ui-monospace,Menlo,Consolas,monospace}
    .list{display:grid;grid-template-columns:1fr;gap:12px}
    @media (min-width:760px){ .list{grid-template-columns:1fr 1fr} }
    .item{border:1px solid var(--border, #28303a);border-radius:12px;padding:12px;background:var(--card,#0f1318)}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
    .btn{padding:10px 12px;border-radius:10px;border:0;background:#1f6feb;color:#fff}
    .btn.ghost{background:#2b2f36;color:#e8eaed}
  </style>
</head>
<body>
  <div class="wrap">
    <header class="site">
      <div class="brand">EchoprintOS</div>
      <nav aria-label="Primary">
        <a href="/"           >Home</a>
        <a href="/ledger/"    class="active">Ledger</a>
        <a href="/ledger/capture.html">Capture</a>
        <a href="/ledger/about.html">About</a>
      </nav>
    </header>

    <!-- Intro (Ledger) -->
    <section class="card" style="margin-bottom:1rem">
      <h1 style="margin:.25rem 0 .5rem 0">Proof-of-Care Ledger</h1>
      <p class="tiny muted" style="margin:0">
        Browse recent records and verify any EchoprintOS Record ID or 64-hex hash.
      </p>
    </section>

    <!-- Directions (clean, not orange) -->
    <section class="card" style="margin-bottom:1rem">
      <h2 style="margin:0 0 .25rem 0">How to verify</h2>
      <p class="tiny muted" style="margin:0">
        Paste an <strong>ECP</strong> (e.g., <code>ECP-20251108034124863</code>) or a <strong>64-hex hash</strong>, then press <em>Verify</em>.
      </p>
    </section>

    <!-- Verify -->
    <section id="verifySection" class="card">
      <h2>Verify</h2>
      <div class="row">
        <input id="q" type="text" inputmode="text" autocomplete="off"
               placeholder="" aria-label="ECP or 64-hex hash" />
        <button id="btnVerify" class="btn">Verify</button>
        <button id="btnClear"  class="btn ghost">Clear</button>
      </div>
      <div id="verifyResult" class="tiny" style="margin-top:.5rem"></div>
    </section>

    <!-- Recent -->
    <section class="card">
      <h2>Recent</h2>
      <div id="recentStatus" class="tiny muted">Loading…</div>
      <div id="recent" class="list"></div>
    </section>
  </div>
  
<script>
  window.addEventListener('error', e => {
    const el = document.querySelector('#recentStatus');
    if (el) el.textContent = 'JS error: ' + (e.error?.message || e.message);
  });
</script>
  
<script type="module" src="/ledger/js/main.hard.js?v=3"></script>
</body>
</html>
