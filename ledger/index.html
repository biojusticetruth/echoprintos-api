<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>EchoprintOS — Generate • Verify • Posts</title>
<link rel="stylesheet" href="./assets/css/app.css?v=1">
</head>
<body>
<div class="wrap">
  <header>
    <h1>EchoprintOS</h1>
    <nav>
      <a class="tab" href="#generate" data-tab="generate">Generate</a>
      <a class="tab" href="#verify"   data-tab="verify">Verify</a>
      <a class="tab" href="#posts"    data-tab="posts">Posts</a>
    </nav>
  </header>

  <!-- GENERATE -->
  <section id="generate" class="card">
    <h2 class="h2">Generate an Echoprint</h2>
    <div class="col2">
      <div>
        <label class="muted">Title (optional)</label>
        <input id="genTitle" type="text" placeholder="Untitled">
      </div>
      <div>
        <label class="muted">Platform (optional)</label>
        <select id="genPlatform">
          <option value="">—</option>
          <option>Substack</option><option>LinkedIn</option><option>X</option>
          <option>Instagram</option><option>YouTube</option>
        </select>
      </div>
      <div>
        <label class="muted">Permalink (optional)</label>
        <input id="genPermalink" type="url" placeholder="https://…">
      </div>
      <div>
        <label class="muted">Media URL (optional)</label>
        <input id="genURL" type="url" placeholder="https://…/image.jpg">
      </div>
    </div>

    <div class="card inner">
      <div class="col2">
        <div>
          <label class="muted">Hash from TEXT (browser SHA-256)</label>
          <textarea id="genText" placeholder="Paste any content to hash…"></textarea>
          <div class="row"><button id="btnHashText">Hash Text → SHA-256</button></div>
        </div>
        <div>
          <label class="muted">Hash from FILE (exact file bytes)</label>
          <input id="genFile" type="file" accept="*/*">
          <div class="row"><button id="btnHashFile">Hash File → SHA-256</button></div>
        </div>
      </div>
      <div class="mt8">
        <label class="muted">Or paste an existing hash (64 hex)</label>
        <input id="genHash" type="text" placeholder="6f1a…">
      </div>
    </div>

    <div class="row">
      <button id="btnInsert">Insert into EchoprintOS</button>
      <button id="btnClearGen">Clear</button>
    </div>
    <div id="genMsg" class="muted mt8"></div>
  </section>

  <!-- VERIFY -->
  <section id="verify" class="card">
    <h2 class="h2">Verify an Echoprint</h2>
    <label class="muted">Paste a SHA-256 hash or a permalink</label>
    <input id="q" type="text" placeholder="e.g., 6f1a… or https://substack.com/p/…">
    <div class="row">
      <button id="btnVerify">Verify</button>
      <button id="btnRecent" title="Show recent">Recent</button>
      <button id="btnClear"  title="Clear">Clear</button>
    </div>
    <div id="out" class="mt14"></div>
  </section>

  <!-- POSTS (live feed) -->
  <section id="posts" class="card">
    <h2 class="h2">Echoprinted Posts</h2>
    <div class="row gap8 mt12">
      <select id="platform">
        <option value="">All platforms</option>
        <option>Substack</option><option>LinkedIn</option><option>X</option>
        <option>Instagram</option><option>YouTube</option>
      </select>
      <input id="search" type="text" placeholder="Search title…">
      <label class="checkbox">
        <input id="imgonly" type="checkbox"> with image only
      </label>
      <button id="refresh">Refresh</button>
    </div>
    <div id="list" class="grid"></div>
    <div class="row center">
      <button id="more">Load more</button>
    </div>
  </section>
</div>

<!-- certificate overlay (same page) -->
<div id="certOverlay"><div id="certPane"></div></div>

<!-- ENV (defines window.__ENV with Supabase URL + anon key) -->
<script src="./env.js?v=24"></script>

<!-- App -->
<script type="module" src="./app.js?v=24"></script>
</body>
</html>
